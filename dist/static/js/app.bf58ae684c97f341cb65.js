webpackJsonp([1],{"3ntp":function(t,e){},"40xo":function(t,e){},D9hl:function(t,e){},GWTM:function(t,e){},LicG:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("+VlJ"),i=a("DVuL"),o=a.n(i),s=(a("LicG"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",{attrs:{id:"app"}},[e("el-header",{staticClass:"header-box"},[e("div",{staticClass:"logo"}),this._v(" "),e("h1",[this._v("bgs官网后台管理系统")])]),this._v(" "),e("el-main",[e("keep-alive",[e("router-view")],1)],1)],1)},staticRenderFns:[]});var l=a("C7Lr")({name:"App"},s,!1,function(t){a("40xo")},null,null).exports,c=a("KGCO"),r={name:"HelloWorld",data:function(){return{pLoginData:{name:"",password:""}}},methods:{goHome:function(){var t=this;return this.pLoginData.name.length<1?this.$message("请填写账号"):this.pLoginData.password.length<1?this.$message("请填写密码"):void this.$axios({method:"post",url:"/login/login",params:this.pLoginData}).then(function(e){console.log(e),0==e.data.code?t.$router.push({path:"/home"}):t.$message(e.data.errorMsg)}).catch(function(t){console.log(t)})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-content"},[a("div",{staticClass:"login-popup"},[a("div",{staticClass:"login-head"},[t._v("登录")]),t._v(" "),a("div",{staticClass:"formDiv"},[a("div",[a("i",{staticClass:"login-username-icon"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pLoginData.name,expression:"pLoginData.name"}],staticClass:"userName",attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.pLoginData.name},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.goHome(e):null},input:function(e){e.target.composing||t.$set(t.pLoginData,"name",e.target.value)}}})]),t._v(" "),a("div",[a("i",{staticClass:"login-password-icon"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pLoginData.password,expression:"pLoginData.password"}],staticClass:"passWord",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.pLoginData.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.goHome(e):null},input:function(e){e.target.composing||t.$set(t.pLoginData,"password",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"sub",on:{click:t.goHome}},[t._v("登录")])]),t._v(" "),a("div",{staticClass:"login-bg"})])])},staticRenderFns:[]};var u=a("C7Lr")(r,d,!1,function(t){a("e3xo")},"data-v-63baeb23",null).exports,p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"mainPage"},[a("el-aside",{staticClass:"mainPage-left",attrs:{width:"200px"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.$route.path,"unique-opened":t.isunique,router:t.isrouter,"text-color":"#808080","active-text-color":"#409eff"}},[a("el-menu-item",{attrs:{index:"/home/noticeList"}},[a("template",{slot:"title"},[a("span",[t._v("一、")]),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("公告列表")])])],2),t._v(" "),a("el-menu-item",{attrs:{index:"/home/feedbackList"}},[a("template",{slot:"title"},[a("span",[t._v("二、")]),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户反馈")])])],2)],1)],1),t._v(" "),a("el-main",[a("keep-alive",[t.$route.meta.keepAlive?a("router-view"):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():a("router-view")],1)],1)},staticRenderFns:[]};var h=a("C7Lr")({data:function(){return{routerPath:"/home/noticeList",isunique:!0,isrouter:!0}},mounted:function(){}},p,!1,function(t){a("x6Rv")},null,null).exports,m={data:function(){return{pNoticeData:{page:1,page_size:10},noticeList:[],totalCount:10}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$axios({method:"post",url:"/notice/getNotice",params:this.pNoticeData}).then(function(e){0==e.data.code&&(t.noticeList=e.data.data.list,t.totalCount=e.data.data.count)}).catch(function(t){console.log(t)})},handleChangeState:function(t,e){var a=this,n="";0==e?n="你确定要恢复该公告吗？":1==e?n="你确定要隐藏该公告吗？":2==e&&(n="你确定要删除该公告吗？"),this.$confirm(n,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios({method:"post",url:"/notice/updateNotice",data:{id:t,state:e}}).then(function(t){if(0!=t.data.code)return a.$message(t.data.msg);a.$message("操作成功"),a.init()}).catch(function(t){console.log(t)})}).catch(function(){a.$message({type:"info",message:"已取消操作"})})},handleDetail:function(t){console.log(t),this.$router.push({name:"NoticeDetail",params:{idNum:t}})},navNoticeAdd:function(t){this.$router.push({name:"NoticeAdd",params:{idNum:t}})},handleCurrentChange:function(t){this.pNoticeData.page=t,this.init()}},activated:function(){this.$route.params.changed&&this.init()}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticClass:"header-menu"},[t._v("公告列表")]),t._v(" "),a("el-main",{staticClass:"table-main"},[a("div",{staticClass:"search-box"},[a("el-button",{on:{click:function(e){t.navNoticeAdd("new")}}},[t._v("新增公告")])],1),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.noticeList,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"发布时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"360"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleDetail(e.row.id)}}},[t._v("查看")]),t._v(" "),0!=e.row.state?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){t.handleChangeState(e.row.id,0)}}},[t._v("恢复")]):t._e(),t._v(" "),1!=e.row.state?a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){t.handleChangeState(e.row.id,1)}}},[t._v("隐藏")]):t._e(),t._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){t.navNoticeAdd(e.row.id)}}},[t._v("修改")]),t._v(" "),2!=e.row.state?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleChangeState(e.row.id,2)}}},[t._v("删除")]):t._e()]}}])})],1)],t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{"current-page":t.pNoticeData.page,"page-size":t.pNoticeData.page_size,layout:"prev, pager, next, jumper",total:t.totalCount},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.pNoticeData,"page",e)}}})],1)],2)],1)},staticRenderFns:[]};var v=a("C7Lr")(m,g,!1,function(t){a("Se10")},"data-v-829abbb6",null).exports,f=a("aiqZ"),_=a.n(f),b={data:function(){return{title:"新增公告",editorContentC:null,editorOptionC:{},editorContentE:null,editorOptionE:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link"]]}},pAddNoticeData:{title:"",content:"",english_title:"",english_content:""}}},mounted:function(){var t=this,e=this.$route.params.idNum;console.log(this.$route.params.idNum),e&&"new"!=e?this.$axios({method:"post",url:"/notice/getDetails",data:{id:e}}).then(function(e){console.log(e),0==e.data.code&&(t.title="修改公告",t.pAddNoticeData=e.data.data)}).catch(function(t){console.log(t)}):(this.title="新增公告",this.pAddNoticeData={title:"",content:"",english_title:"",english_content:""})},methods:{handleSubmit:function(){var t=this;return!this.pAddNoticeData.title.length>0?this.$message("中文标题不能为空"):!this.pAddNoticeData.content.length>0?this.$message("中文内容不能为空"):!this.pAddNoticeData.english_title.length>0?this.$message("英文标题不能为空"):!this.pAddNoticeData.english_content.length>0?this.$message("英文内容不能为空"):void(this.pAddNoticeData.id?(console.log(this.pAddNoticeData),this.$axios({method:"post",url:"/notice/updateNotice",params:this.pAddNoticeData}).then(function(e){if(0!=e.data.code)return t.$message(e.data.msg);t.$message(e.data.msg),t.$router.push({name:"NoticeList",params:{changed:!0}})}).catch(function(t){console.log(t)})):this.$axios({method:"post",url:"/notice/addNotice",params:this.pAddNoticeData}).then(function(e){if(0!=e.data.code)return t.$message(e.data.msg);t.$message(e.data.msg),t.$router.push({name:"NoticeList",params:{changed:!0}})}).catch(function(t){console.log(t)}))},handleFileChange:function(t){var e=this,a=t.currentTarget.files[0];if(/image\/\w+/.test(a.type)){var n=new FileReader;n.readAsDataURL(a),n.onload=function(t){var a=this.result.split(";base64,")[1];e.$axios({method:"post",url:"/api/test/upload",data:{pic:a}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}}}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticClass:"header-menu"},[t._v(t._s(t.title))]),t._v(" "),a("el-main",{staticClass:"table-main"},[a("div",{staticClass:"notileAddTitle"},[a("p",[t._v("中文标题")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pAddNoticeData.title,expression:"pAddNoticeData.title"}],attrs:{type:"text",placeholder:"请填写公告标题"},domProps:{value:t.pAddNoticeData.title},on:{input:function(e){e.target.composing||t.$set(t.pAddNoticeData,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"notileAddTitle"},[a("p",[t._v("中文内容")]),t._v(" "),a("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOptionC},model:{value:t.pAddNoticeData.content,callback:function(e){t.$set(t.pAddNoticeData,"content",e)},expression:"pAddNoticeData.content"}})],1),t._v(" "),a("div",{staticClass:"notileAddTitle"},[a("p",[t._v("英文标题")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pAddNoticeData.english_title,expression:"pAddNoticeData.english_title"}],attrs:{type:"text",placeholder:"请填写公告标题"},domProps:{value:t.pAddNoticeData.english_title},on:{input:function(e){e.target.composing||t.$set(t.pAddNoticeData,"english_title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"notileAddTitle"},[a("p",[t._v("英文内容")]),t._v(" "),a("quill-editor",{ref:"myQuillEditorE",attrs:{options:t.editorOptionE},model:{value:t.pAddNoticeData.english_content,callback:function(e){t.$set(t.pAddNoticeData,"english_content",e)},expression:"pAddNoticeData.english_content"}})],1),t._v(" "),a("el-button",{staticClass:"submitBtn",on:{click:t.handleSubmit}},[t._v("提交")])],1)],1)},staticRenderFns:[]};var C=a("C7Lr")(b,D,!1,function(t){a("GWTM")},null,null).exports,$={data:function(){return{noticeData:{content:"",title:"",english_content:"",english_title:""}}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$axios({method:"post",url:"/notice/getDetails",params:{id:this.$route.params.idNum}}).then(function(e){console.log(e),0==e.data.code&&(t.noticeData=e.data.data)}).catch(function(t){console.log(t)})}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticClass:"header-menu"},[t._v("公告详情")]),t._v(" "),a("el-main",{staticClass:"table-main noticeDetial"},[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[t._v(t._s(t.noticeData.title))]),t._v(" "),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.noticeData.content)}})]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[t._v(t._s(t.noticeData.title))]),t._v(" "),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.noticeData.english_content)}})])])],1)},staticRenderFns:[]};var k=a("C7Lr")($,N,!1,function(t){a("PP5a")},"data-v-964c21ac",null).exports,x={data:function(){return{pFeedbackListData:{page:1,page_size:10},feedbackList:[],totalCount:10}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$axios({method:"post",url:"/feedback/getFeedbackList",params:this.pFeedbackListData}).then(function(e){console.log(e),0==e.data.code&&(t.feedbackList=e.data.data.list,t.totalCount=e.data.data.count)}).catch(function(t){console.log(t)})},handleCurrentChange:function(t){this.pFeedbackListData.page=t,this.init()},handleDeal:function(t){var e=this;this.$confirm("确定改反馈的状态吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios({method:"post",url:"/feedback/handleFeedback",params:{id:t}}).then(function(t){if(0!=t.data.code)return e.$message(t.data.msg);e.$message("操作成功"),e.init()}).catch(function(t){console.log(t)})}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},handleDetails:function(t){var e=this;this.$axios({method:"post",url:"/feedback/getFeedbackDetails",params:{id:t}}).then(function(t){if(0!=t.data.code)return e.$message(t.data.msg);e.$alert("<p>"+t.data.data.details+"</p>",t.data.data.title,{dangerouslyUseHTMLString:!0}).then(function(t){}).catch(function(t){})}).catch(function(t){console.log(t)})}}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticClass:"header-menu"},[t._v("用户反馈列表")]),t._v(" "),a("el-main",{staticClass:"table-main"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.feedbackList,stripe:""}},[a("el-table-column",{attrs:{prop:"time",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.state?a("span",[t._v("已处理")]):t._e(),t._v(" "),0==e.row.state?a("span",[t._v("未处理")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.state?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){t.handleDeal(e.row.id)}}},[t._v("处理")]):t._e(),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleDetails(e.row.id)}}},[t._v("查看")])]}}])})],1)],t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{"current-page":t.pFeedbackListData.page,"page-size":t.pFeedbackListData.page_size,layout:"prev, pager, next, jumper",total:t.totalCount},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.pFeedbackListData,"page",e)}}})],1)],2)],1)},staticRenderFns:[]};var w=a("C7Lr")(x,L,!1,function(t){a("ftgI")},"data-v-6f30e1a1",null).exports;n.default.use(c.a);var A=new c.a({routes:[{path:"/",name:"Login",component:u},{path:"/home",name:"Home",component:h,redirect:"/home/noticeList",children:[{path:"/home/noticeList",name:"NoticeList",component:v,meta:{keepAlive:!0}},{path:"/home/noticeAdd",name:"NoticeAdd",component:C,meta:{keepAlive:!1}},{path:"/home/noticeDetail",name:"NoticeDetail",component:k,meta:{keepAlive:!1}},{path:"/home/feedbackList",name:"FeedbackList",component:w,meta:{keepAlive:!1}}]}]}),y=a("aozt"),F=a.n(y),P=a("mi2a"),T=a.n(P),z=a("6iV/"),E=a.n(z);a("lMgl"),a("D9hl"),a("3ntp");n.default.use(_.a),a("RpDc"),T.a.polyfill(),n.default.use(o.a),n.default.config.productionTip=!1,n.default.prototype.$axios=F.a,n.default.prototype.$baseURL="/bgs/admin",F.a.defaults.baseURL="/bgs/admin",F.a.defaults.withCredentials=!0,F.a.interceptors.request.use(function(t){var e=t.data||{};return t.data=E.a.stringify(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t},function(t){return T.a.reject(t)}),F.a.interceptors.response.use(function(t){return"请登录"===t.data.errorMsg&&(console.log("请求出问题了"),A.push({path:"/"})),t},function(t){return console.log(t),T.a.reject(t)}),new n.default({el:"#app",router:A,components:{App:l},template:"<App/>"})},PP5a:function(t,e){},Se10:function(t,e){},e3xo:function(t,e){},ftgI:function(t,e){},lMgl:function(t,e){},x6Rv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bf58ae684c97f341cb65.js.map